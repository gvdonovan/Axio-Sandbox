<div *ngIf="property">
    <h3 class="page-title">{{property.name}}</h3>

    <div class="row">
        <div class="col-lg-8">
            <panel>
                <panel-title>Property Details</panel-title>
                <header-menu>
                    <span class="dropdown">
                        <a href="#" class="card-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="material-icons">more_vert</i></a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                    </span>
                </header-menu>
                <content>
                    <div>{{property.address.streetName + ', ' + property.address.city + ' ' + property.address.state.shortName + ' ' + property.address.zipCode}}</div>
                    <div>Year Built: {{property.yearBuilt}}</div>
                    <div>Floor Count: {{property.floorCount}}</div>
                    <div>Market: {{property.market.name}}</div>
                    <div>Submarket: {{property.submarket.name}}</div>
                </content>
            </panel>
        </div>

        <div class="col-lg-4">
            <panel>
                <panel-title>
                    Property Stats
                </panel-title>
                <content>
                    <div>Occupancy Status: {{property.stats.occupancyStatus}}</div>
                    <div>Property Type: {{property.stats.propertyType}}</div>
                    <div>Occupancy: {{property.stats.occupancy}}</div>
                    <div>Survey Date: {{moment(property.stats.surveyDateTime).format('D/MM/YYYY')}}</div>
                </content>
            </panel>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <panel>
                <panel-title>Owners</panel-title>
                <header-menu>
                    <span class="dropdown">
                        <a href="#" class="card-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="material-icons">more_vert</i></a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="#"><i class="material-icons">person</i> add owner</a>
                        </div>
                    </span>
                </header-menu>
                <content>
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Address</th>
                            <th class="hidden-xs">Type</th>
                            <th class="hidden-xs">Start Date</th>
                            <th class="hidden-xs">End Date</th>
                            <th class="hidden-xs">Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let owner of property.owners;">
                            <td><a [routerLink]="['/app/company/' + owner.id]">{{owner.name}}</a></td>
                            <td>{{owner.address ? owner.address.streetName + ' ' + owner.address.city : ''}}</td>
                            <td>Owner</td>
                            <td>{{owner.startDate !== null ? moment(owner.startDate).format('D/MMM/YYYY') : ''}}</td>
                            <td>{{owner.endDate !== null ? moment(owner.endDate).format('D/MMM/YYYY') : ''}}</td>
                            <td>
                                <button type="button" class="btn btn-warning btn-xs">
                                    <span class="fs-sm">Expire</span>
                                </button>
                                <button type="button" class="btn btn-danger btn-xs">
                                    <span class="fs-sm">Delete</span>
                                </button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </content>
            </panel>
        </div>
        <div class="col-lg-4">
            <panel >
                <panel-title>Map</panel-title>
                <content>
                    <sebm-google-map [latitude]="property.coordinate.latitude" [longitude]="property.coordinate.longitude" zoom="10">
                        <sebm-google-map-marker [latitude]="property.coordinate.latitude" [longitude]="property.coordinate.longitude"
                                                [iconUrl]="'assets/images/icon_red.png'" (markerClick)="markerClicked($event)">
                        </sebm-google-map-marker>
                    </sebm-google-map>
                </content>
            </panel>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <panel>
                <panel-title>Transaction</panel-title>
                <content>
                </content>
            </panel>
        </div>
    </div>

</div>

<div *ngIf="!property">
    <h4>No Data Available</h4>
</div>
